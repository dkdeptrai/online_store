<%= form_with model: @product, class: "w-full", html: { multipart: true } do |form| %>
	<% if form.object.errors.any? %>
		<div class="mt-3 rounded-lg bg-red-50 px-3 py-2 font-medium text-red-500 error_explanation">
			<h2><%= pluralize(form.object.errors.count, "error") %> prohibited this product from being saved:</h2>
			<ul class="list-decimal">
				<% form.object.errors.full_messages.each do |message| %>
					<li class="ml-8"><%= message %></li>
				<% end %>
			</ul>
		</div>
	<% end %>

	<div class="flex flex-col">
		<div class="my-5">
			<%= form.label :name %>
			<%= form.text_field :name, class: "input-field w-full" %>
		</div>

		<div class="my-5">
			<%= form.label :code %>
			<%= form.text_field :code, class: "input-field w-full" %>
		</div>


		<div class="my-5">
			<%= form.label :heel_height %>
			<%= form.text_field :heel_height, class: "input-field w-full" %>
		</div>

		<div class="my-5">
			<%= form.label :description %>
			<%= form.text_area :description, rows: 10, class: "input-field w-full" %>
		</div>

		<div class="my-5">
			<%= form.label :images %>
			<%= form.file_field :images, multiple: true, include_hidden: false %>
		</div>

		<div class="my-5">
			<%= form.label :category_id, 'Category' %>
			<%= form.select :category_id, options_from_collection_for_select(@categories, 'id', 'name'), class: "input-field" %>
		</div>

		<div class="my-5">
			<%= form.label :brand_id, 'Brand' %>
			<%= form.select :brand_id, options_from_collection_for_select(@brands, 'id', 'name'), class: "input-field" %>
		</div>

		<div class="my-5">
			<%= form.label :price %>
			<%= form.number_field :price, step: :any, class: 'input-field w-full' %>
		</div>

		<div class="my-5 flex flex-row gap-4">
			<%= form.submit (action == 'edit' ? 'Edit Product' : 'Create Product'), class: "blue-btn" %>
			<%= link_to 'Back to Products', products_path, class: "gray-btn" %>
		</div>
	</div>

<% end %>
